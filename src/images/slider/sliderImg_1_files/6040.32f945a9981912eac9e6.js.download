"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[6040],{89186:(e,a,t)=>{t.d(a,{gz:()=>g,D_:()=>w});var n=t(22965),r=t(73481),o=t(29771),d=t(43882),s=t(54373),c=t(57842),h=t(33037),p=t(25510),l=t(56225);const i=(0,p.zG)(r.U2,s.UI((0,p.ls)(r.xL,h.U3({True:"production",False:"development"}))),d.UI(o.f1)),m=(0,p.zG)(l.er,d.ht,c.NG((e=>e.ad_env)),c.HV(i)),u=(()=>{switch(m){case"production":return"10457";case"development":return"10495"}})(),T=(()=>{switch(m){case"production":return"1121954";case"development":return"1124528"}})();var I=t(28897),y=t(57051),U=t(60301),k=(t(4094),t(8173)),F=t(46247),z=t(69184),S=t(68873),f=t(97174),G=t(37745),b=t(23873),D=t(62876),v=t(87976),x=t(61465),_=t(8204);const P=_.Dy.match({HomePageInFeed:()=>"homepage-in-feed",SayThanksCardMobile:()=>"say-thanks-card-mobile",SayThanksCardTabletUp:()=>"say-thanks-card-desktop",TopicsInFeed:()=>"topics-in-feed",ExploreInFeed:()=>"explore-in-feed",SearchInFeed:()=>"search-in-feed"}),A=(()=>{switch(m){case"development":return _.Dy.matchX({HomePageInFeed:S.of(301585),SayThanksCardMobile:S.of(237077),SayThanksCardTabletUp:S.of(237076),TopicsInFeed:S.VF(x.AS.match({Phone:(0,p.a9)(257457),[v._]:(0,p.a9)(237186)})),ExploreInFeed:S.VF(x.AS.match({Phone:(0,p.a9)(257456),[v._]:(0,p.a9)(247889)})),SearchInFeed:S.VF(x.AS.match({Phone:(0,p.a9)(257455),[v._]:(0,p.a9)(241347)}))});case"production":return _.Dy.matchX({HomePageInFeed:S.of(301587),SayThanksCardMobile:S.of(219423),SayThanksCardTabletUp:S.of(219424),TopicsInFeed:S.VF(x.AS.match({Phone:(0,p.a9)(257453),[v._]:(0,p.a9)(237209)})),ExploreInFeed:S.VF(x.AS.match({Phone:(0,p.a9)(257454),[v._]:(0,p.a9)(247890)})),SearchInFeed:S.VF(x.AS.match({Phone:(0,p.a9)(257452),[v._]:(0,p.a9)(241348)}))})}})(),C=e=>{let{adType:a,count:t}=e;return(0,p.zG)(A(a),S.UI((e=>({divName:P(a),zoneIds:F.of(e),count:t,networkId:u,siteId:T,adTypes:F.of(5),properties:{}}))))},g=e=>{let{adType:a,count:t}=e;const r=_.Dy.getTemplateCodec(a);return(0,p.zG)((o={adType:a,count:t},(0,p.zG)(f.of(I.q9),f.ap((0,p.zG)(o,C,S.UI(F.of),f.Ry)),f.ap(f.tD(n.T)))),G.XR,G.U0((e=>z.x0(I.sD(r))("/nabc",{method:"POST",headers:{[U.JU]:y.zc.JSON},body:I.D6.encode(e)}))),b.ap,b.UI((e=>(0,p.zG)(e.decisions,k.P5(P(a)),c.tS(c.ij),c.UI(F.UI((e=>_.Ad.fromKevelAd({ad:F.YM(e.contents),decision:e}))))))));var o},w=D.UI(c.tS((e=>(0,p.zG)(e.template,_.YS.match({InFeed:a=>c.G(_.Ad.mkInFeedAd({...e,template:a})),[v._]:(0,p.a9)(c.YP)})))))},38803:(e,a,t)=>{t.d(a,{W2:()=>P,Yo:()=>x,DU:()=>v});var n=t(85893),r=t(11324),o=t(70902),d=t(66132),s=t(83143),c=t(98677),h=t(8481),p=t(46681),l=t(4094),i=t(43882),m=t(69184),u=t(85198),T=t(57842),I=t(62876),y=t(87976),U=t(25510),k=t(40755),F=t(49056),z=t(61465),S=t(8204),f=t(46797),G=t(56892),b=t(86287),D=t(89186);const v=e=>{let{adType:a,count:t}=e;const n=(0,p.v)(F._v);return(0,r.m)((e=>{const a=(0,U.zG)(e,k.UID((e=>e[0])),k.xbd(S.Dy.Eq.equals)),n=(0,U.zG)(e,k.UID((e=>e[1])),k.xbd(T.Eh(z.Eq).equals));return(0,U.zG)(u.gz((0,U.zG)(a,u.u5),n),u.pd((e=>{let[a,n]=e;return(0,U.zG)(k.PQt((()=>(0,D.gz)({adType:a,count:t})(n))),k.bwX((e=>{if(I.hx(e)){const{error:t}=e;(0,U.zG)(t,m.JQ.match({DecodeError:(0,U.ls)(l.Ce7(`\nKevel response failed decoding for adType: "${S.Dy.Show.show(a)}"`),s._N,i.ht),[y._]:U.Q1}))}})))})),k.UID(T.pF((()=>I.nn))))}),[a,n])},x=e=>{let{adType:a,count:t,children:n}=e;return n((0,h.s)(v({adType:a,count:t})))},_=e=>{let{metadata:a}=e;return(0,n.jsxs)(f.PRT,{children:[(0,n.jsx)(b._,{url:a.impressionUrl}),(0,U.zG)(a.impressionTrackers,T.UI((e=>(0,U.zG)(e,l.UID((e=>(0,n.jsx)(b._,{url:e},e)))))),T.WG)]})},P=e=>{let{children:a,metadata:t,adType:r}=e;const s=(0,c.I)();return(0,o.Z)((()=>{s(d.aU.mk.DirectAdImpression({metadata:t,adType:r}))})),(0,n.jsxs)(f.PRT,{children:[a,(0,n.jsx)(G.Z,{children:(0,n.jsx)(_,{metadata:t})})]})}},18912:(e,a,t)=>{t.d(a,{$:()=>c});var n=t(85893),r=t(66132),o=t(98677),d=t(46797),s=t(4387);const c=e=>{let{metadata:a,adType:t,...c}=e;const h=(0,o.I)(),p=d.I47((()=>{h(r.aU.mk.TrackDirectAdClick({metadata:a,adType:t}))}),[a,t,h]);return(0,n.jsx)(s.r,{onClick:p,href:a.clickUrl,...c})}},8481:(e,a,t)=>{t.d(a,{s:()=>o});var n=t(8144),r=t(62876);const o=e=>(0,n.p)(e,r.nn)}}]);